/*!
 * @splidejs/splide-extension-auto-scroll
 * Version  : 0.5.2
 * License  : MIT
 * Copyright: 2022 Naotoshi Fujita
 */
!function(factory){"function"==typeof define&&define.amd?define(factory):factory()}((function(){"use strict";function empty(array){array.length=0}function slice$1(arrayLike,start,end){return Array.prototype.slice.call(arrayLike,start,end)}function apply$1(func){return func.bind.apply(func,[null].concat(slice$1(arguments,1)))}function raf(func){return requestAnimationFrame(func)}function typeOf$1(type,subject){return typeof subject===type}var isArray$1=Array.isArray;function toArray$1(value){return isArray$1(value)?value:[value]}function forEach$1(values,iteratee){toArray$1(values).forEach(iteratee)}apply$1(typeOf$1,"function"),apply$1(typeOf$1,"string"),apply$1(typeOf$1,"undefined");var ownKeys$1=Object.keys;function forOwn$1(object,iteratee,right){if(object){var keys=ownKeys$1(object);keys=right?keys.reverse():keys;for(var i=0;i<keys.length;i++){var key=keys[i];if("__proto__"!==key&&!1===iteratee(object[key],key))break}}return object}function assign$1(object){return slice$1(arguments,1).forEach((function(source){forOwn$1(source,(function(value,key){object[key]=source[key]}))})),object}var min$1=Math.min;function EventBinder(){var listeners=[];function bind(targets,events,callback,options){forEachEvent(targets,events,(function(target,event,namespace){var isEventTarget="addEventListener"in target,remover=isEventTarget?target.removeEventListener.bind(target,event,callback,options):target.removeListener.bind(target,callback);isEventTarget?target.addEventListener(event,callback,options):target.addListener(callback),listeners.push([target,event,namespace,callback,remover])}))}function unbind(targets,events,callback){forEachEvent(targets,events,(function(target,event,namespace){listeners=listeners.filter((function(listener){return!!(listener[0]!==target||listener[1]!==event||listener[2]!==namespace||callback&&listener[3]!==callback)||(listener[4](),!1)}))}))}function dispatch(target,type,detail){var e,bubbles=!0;return"function"==typeof CustomEvent?e=new CustomEvent(type,{bubbles:!0,detail:detail}):(e=document.createEvent("CustomEvent")).initCustomEvent(type,!0,!1,detail),target.dispatchEvent(e),e}function forEachEvent(targets,events,iteratee){forEach$1(targets,(function(target){target&&forEach$1(events,(function(events2){events2.split(" ").forEach((function(eventNS){var fragment=eventNS.split(".");iteratee(target,fragment[0],fragment[1])}))}))}))}function destroy(){listeners.forEach((function(data){data[4]()})),empty(listeners)}return{bind:bind,unbind:unbind,dispatch:dispatch,destroy:destroy}}var EVENT_MOVE="move",EVENT_MOVED="moved",EVENT_UPDATED="updated",EVENT_DRAG="drag",EVENT_DRAGGED="dragged",EVENT_SCROLL="scroll",EVENT_SCROLLED="scrolled",EVENT_DESTROY="destroy";function EventInterface(Splide2){var bus=Splide2?Splide2.event.bus:document.createDocumentFragment(),binder=EventBinder();function on(events,callback){binder.bind(bus,toArray$1(events).join(" "),(function(e){callback.apply(callback,isArray$1(e.detail)?e.detail:[])}))}function emit(event){binder.dispatch(bus,event,slice$1(arguments,1))}return Splide2&&Splide2.event.on("destroy",binder.destroy),assign$1(binder,{bus:bus,on:on,off:apply$1(binder.unbind,bus),emit:emit})}function RequestInterval(interval,onInterval,onUpdate,limit){var now=Date.now,startTime,rate=0,id,paused=!0,count=0;function update(){if(!paused){if(rate=interval?min$1((now()-startTime)/interval,1):1,onUpdate&&onUpdate(rate),rate>=1&&(onInterval(),startTime=now(),limit&&++count>=limit))return pause();raf(update)}}function start(resume){!resume&&cancel(),startTime=now()-(resume?rate*interval:0),paused=!1,raf(update)}function pause(){paused=!0}function rewind(){startTime=now(),rate=0,onUpdate&&onUpdate(rate)}function cancel(){id&&cancelAnimationFrame(id),rate=0,id=0,paused=!0}function set(time){interval=time}function isPaused(){return paused}return{start:start,rewind:rewind,pause:pause,cancel:cancel,set:set,isPaused:isPaused}}function Throttle(func,duration){var interval;function throttled(){interval||(interval=RequestInterval(duration||0,(function(){func(),interval=null}),null,1)).start()}return throttled}var CLASS_ACTIVE="is-active",SLIDE="slide",FADE="fade";function slice(arrayLike,start,end){return Array.prototype.slice.call(arrayLike,start,end)}function apply(func){return func.bind.apply(func,[null].concat(slice(arguments,1)))}function typeOf(type,subject){return typeof subject===type}function isObject(subject){return!isNull(subject)&&typeOf("object",subject)}var isArray=Array.isArray;apply(typeOf,"function"),apply(typeOf,"string");var isUndefined=apply(typeOf,"undefined");function isNull(subject){return null===subject}function toArray(value){return isArray(value)?value:[value]}function forEach(values,iteratee){toArray(values).forEach(iteratee)}function toggleClass(elm,classes,add){elm&&forEach(classes,(function(name){name&&elm.classList[add?"add":"remove"](name)}))}var ownKeys=Object.keys;function forOwn(object,iteratee,right){if(object){var keys=ownKeys(object);keys=right?keys.reverse():keys;for(var i=0;i<keys.length;i++){var key=keys[i];if("__proto__"!==key&&!1===iteratee(object[key],key))break}}return object}function assign(object){return slice(arguments,1).forEach((function(source){forOwn(source,(function(value,key){object[key]=source[key]}))})),object}function removeAttribute(elms,attrs){forEach(elms,(function(elm){forEach(attrs,(function(attr){elm&&elm.removeAttribute(attr)}))}))}function setAttribute(elms,attrs,value){isObject(attrs)?forOwn(attrs,(function(value2,name){setAttribute(elms,name,value2)})):forEach(elms,(function(elm){isNull(value)||""===value?removeAttribute(elm,attrs):elm.setAttribute(attrs,String(value))}))}var min=Math.min,max=Math.max,floor=Math.floor,ceil=Math.ceil,abs=Math.abs;function clamp(number,x,y){var minimum=min(x,y),maximum=max(x,y);return min(max(minimum,number),maximum)}var DEFAULTS={speed:1,autoStart:!0,pauseOnHover:!0,pauseOnFocus:!0},I18N={startScroll:"Start auto scroll",pauseScroll:"Pause auto scroll"};function AutoScroll(Splide2,Components2,options){var _EventInterface=EventInterface(Splide2),on=_EventInterface.on,off=_EventInterface.off,bind=_EventInterface.bind,unbind=_EventInterface.unbind,_Components2$Move=Components2.Move,translate=_Components2$Move.translate,getPosition=_Components2$Move.getPosition,toIndex=_Components2$Move.toIndex,getLimit=_Components2$Move.getLimit,_Components2$Controll=Components2.Controller,setIndex=_Components2$Controll.setIndex,getIndex=_Components2$Controll.getIndex,orient=Components2.Direction.orient,toggle=Components2.Elements.toggle,Live=Components2.Live,root=Splide2.root,throttledUpdateArrows=Throttle(Components2.Arrows.update,500),autoScrollOptions={},interval,stopped,hovered,focused,busy,currPosition;function setup(){var autoScroll=options.autoScroll;autoScrollOptions=assign({},DEFAULTS,isObject(autoScroll)?autoScroll:{})}function mount(){Splide2.is(FADE)||interval||!1===options.autoScroll||(interval=RequestInterval(0,move),listen(),autoStart())}function destroy(){interval&&(interval.cancel(),interval=null,currPosition=void 0,off(["move","drag","scroll","moved","scrolled"]),unbind(root,"mouseenter mouseleave focusin focusout"),unbind(toggle,"click"))}function listen(){autoScrollOptions.pauseOnHover&&bind(root,"mouseenter mouseleave",(function(e){hovered="mouseenter"===e.type,autoToggle()})),autoScrollOptions.pauseOnFocus&&bind(root,"focusin focusout",(function(e){focused="focusin"===e.type,autoToggle()})),autoScrollOptions.useToggleButton&&bind(toggle,"click",(function(){stopped?play():pause()})),on("updated",update),on(["move","drag","scroll"],(function(){busy=!0,pause(!1)})),on(["moved","dragged","scrolled"],(function(){busy=!1,autoToggle()}))}function update(){var autoScroll=options.autoScroll;!1!==autoScroll?(autoScrollOptions=assign({},autoScrollOptions,isObject(autoScroll)?autoScroll:{}),mount()):destroy(),interval&&!isUndefined(currPosition)&&translate(currPosition)}function autoStart(){autoScrollOptions.autoStart&&("complete"===document.readyState?play():bind(window,"load",play))}function play(){isPaused()&&(interval.start(!0),Live.disable(!0),focused=hovered=stopped=!1,updateButton())}function pause(stop){void 0===stop&&(stop=!0),stopped||(stopped=stop,updateButton(),isPaused()||(interval.pause(),Live.disable(!1)))}function autoToggle(){stopped||(hovered||focused||busy?pause(!1):play())}function move(){var position=getPosition(),destination=computeDestination(position);position!==destination?(translate(destination),updateIndex(currPosition=getPosition())):(pause(!1),autoScrollOptions.rewind&&Splide2.go(autoScrollOptions.speed>0?0:Components2.Controller.getEnd())),throttledUpdateArrows()}function computeDestination(position){var speed=autoScrollOptions.speed||1;return position+=orient(speed),Splide2.is(SLIDE)&&(position=clamp(position,getLimit(!1),getLimit(!0))),position}function updateIndex(position){var length=Splide2.length,index=(toIndex(position)+length)%length;index!==getIndex()&&(setIndex(index),Components2.Slides.update(),Components2.Pagination.update(),"nearby"===options.lazyLoad&&Components2.LazyLoad.check())}function updateButton(){if(toggle){var key=stopped?"startScroll":"pauseScroll";toggleClass(toggle,"is-active",!stopped),setAttribute(toggle,"aria-label",options.i18n[key]||I18N[key])}}function isPaused(){return!interval||interval.isPaused()}return{setup:setup,mount:mount,destroy:destroy,play:play,pause:pause,isPaused:isPaused}}"undefined"!=typeof window&&(window.splide=window.splide||{},window.splide.Extensions=window.splide.Extensions||{},window.splide.Extensions.AutoScroll=AutoScroll)}));